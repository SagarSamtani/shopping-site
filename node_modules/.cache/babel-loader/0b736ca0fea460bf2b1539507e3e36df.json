{"ast":null,"code":"import _regeneratorRuntime from\"/Users/samtanis/Sagar Projects/AegonLife/aegon-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/samtanis/Sagar Projects/AegonLife/aegon-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{connect}from\"react-redux\";import Product from\"components/Product\";import Grid from\"@material-ui/core/Grid\";import{getProducts}from\"services/apis\";import React,{useEffect,memo}from\"react\";import dashboardStyles from\"styles/dashboard\";import{addToCart as _addToCart}from\"actions/cart/cartActions\";import{makeStyles}from\"@material-ui/core/styles\";import{setProducts as _setProducts}from\"actions/product/productActions\";var useStyles=makeStyles(function(theme){return dashboardStyles(theme);});var Dashboard=function Dashboard(props){var setProducts=props.setProducts,products=props.products,addToCart=props.addToCart;var classes=useStyles();useEffect(function(){var callProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,_products;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getProducts();case 3:response=_context.sent;_products=response.data;setProducts(_products);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(\"Error:\",_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function callProducts(){return _ref.apply(this,arguments);};}();callProducts();},[setProducts]);var productsList=products.map(function(eachProduct){return/*#__PURE__*/React.createElement(Grid,{key:\"grid-\".concat(eachProduct.id),item:true,xs:3},/*#__PURE__*/React.createElement(Product,{key:eachProduct.id,productInfo:eachProduct,onClickHandler:function onClickHandler(){addToCart(eachProduct);}}));});return/*#__PURE__*/React.createElement(Grid,{className:classes.container,container:true,spacing:3},productsList);};var mapStateToProps=function mapStateToProps(_ref2){var productReducer=_ref2.productReducer,cartReducer=_ref2.cartReducer;var products=productReducer.products,cartItems=cartReducer.cartItems;return{products:products,cartItems:cartItems};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setProducts:function setProducts(productsList){return dispatch(_setProducts(productsList));},addToCart:function addToCart(cartProduct){return dispatch(_addToCart(cartProduct));}};};export default connect(mapStateToProps,mapDispatchToProps)(memo(Dashboard));","map":{"version":3,"sources":["/Users/samtanis/Sagar Projects/AegonLife/aegon-app/src/components/Dashboard/index.js"],"names":["connect","Product","Grid","getProducts","React","useEffect","memo","dashboardStyles","addToCart","makeStyles","setProducts","useStyles","theme","Dashboard","props","products","classes","callProducts","response","data","console","error","productsList","map","eachProduct","id","container","mapStateToProps","productReducer","cartReducer","cartItems","mapDispatchToProps","dispatch","cartProduct"],"mappings":"+UACA,OAASA,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,OAASC,WAAT,KAA4B,eAA5B,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,IAA3B,KAAuC,OAAvC,CACA,MAAOC,CAAAA,eAAP,KAA4B,kBAA5B,CACA,OAASC,SAAS,GAATA,CAAAA,UAAT,KAA0B,0BAA1B,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,OAASC,WAAW,GAAXA,CAAAA,YAAT,KAA4B,gCAA5B,CAEA,GAAMC,CAAAA,SAAS,CAAGF,UAAU,CAAC,SAAAG,KAAK,QAAIL,CAAAA,eAAe,CAACK,KAAD,CAAnB,EAAN,CAA5B,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,KAAK,CAAI,IACjBJ,CAAAA,WADiB,CACoBI,KADpB,CACjBJ,WADiB,CACJK,QADI,CACoBD,KADpB,CACJC,QADI,CACMP,SADN,CACoBM,KADpB,CACMN,SADN,CAGzB,GAAMQ,CAAAA,OAAO,CAAGL,SAAS,EAAzB,CAEAN,SAAS,CAAC,UAAM,CACd,GAAMY,CAAAA,YAAY,0FAAG,gMAEMd,CAAAA,WAAW,EAFjB,QAEXe,QAFW,eAGPH,SAHO,CAGMG,QAHN,CAGbC,IAHa,CAIjBT,WAAW,CAACK,SAAD,CAAX,CAJiB,+EAMjBK,OAAO,CAACC,KAAR,CAAc,QAAd,cANiB,oEAAH,kBAAZJ,CAAAA,YAAY,0CAAlB,CAUAA,YAAY,GACb,CAZQ,CAYN,CAACP,WAAD,CAZM,CAAT,CAcA,GAAMY,CAAAA,YAAY,CAAGP,QAAQ,CAACQ,GAAT,CAAa,SAAAC,WAAW,CAAI,CAC/C,mBACE,oBAAC,IAAD,EAAM,GAAG,gBAAUA,WAAW,CAACC,EAAtB,CAAT,CAAqC,IAAI,KAAzC,CAA0C,EAAE,CAAE,CAA9C,eACE,oBAAC,OAAD,EACE,GAAG,CAAED,WAAW,CAACC,EADnB,CAEE,WAAW,CAAED,WAFf,CAGE,cAAc,CAAE,yBAAM,CACpBhB,SAAS,CAACgB,WAAD,CAAT,CACD,CALH,EADF,CADF,CAWD,CAZoB,CAArB,CAcA,mBACE,oBAAC,IAAD,EAAM,SAAS,CAAER,OAAO,CAACU,SAAzB,CAAoC,SAAS,KAA7C,CAA8C,OAAO,CAAE,CAAvD,EACGJ,YADH,CADF,CAKD,CAtCD,CA+CA,GAAMK,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,OAAqC,IAAlCC,CAAAA,cAAkC,OAAlCA,cAAkC,CAAlBC,WAAkB,OAAlBA,WAAkB,CACrD,GAAEd,CAAAA,QAAF,CAAea,cAAf,CAAEb,QAAF,CACFe,SADE,CACYD,WADZ,CACFC,SADE,CAGN,MAAO,CACLf,QAAQ,CAARA,QADK,CAELe,SAAS,CAATA,SAFK,CAAP,CAID,CARD,CAUA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,QAAK,CACtCtB,WAAW,CAAE,qBAAAY,YAAY,QAAIU,CAAAA,QAAQ,CAACtB,YAAW,CAACY,YAAD,CAAZ,CAAZ,EADa,CAEtCd,SAAS,CAAE,mBAAAyB,WAAW,QAAID,CAAAA,QAAQ,CAACxB,UAAS,CAACyB,WAAD,CAAV,CAAZ,EAFgB,CAAL,EAAnC,CAKA,cAAejC,CAAAA,OAAO,CACpB2B,eADoB,CAEpBI,kBAFoB,CAAP,CAGbzB,IAAI,CAACO,SAAD,CAHS,CAAf","sourcesContent":["import PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport Product from \"components/Product\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { getProducts } from \"services/apis\";\nimport React, { useEffect, memo } from \"react\";\nimport dashboardStyles from \"styles/dashboard\";\nimport { addToCart } from \"actions/cart/cartActions\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { setProducts } from \"actions/product/productActions\";\n\nconst useStyles = makeStyles(theme => dashboardStyles(theme));\n\nconst Dashboard = props => {\n  const { setProducts, products, addToCart } = props;\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    const callProducts = async () => {\n      try {\n        const response = await getProducts(),\n          { data: products } = response;\n        setProducts(products);\n      } catch (error) {\n        console.error(\"Error:\", error);\n      }\n    };\n\n    callProducts();\n  }, [setProducts]);\n\n  const productsList = products.map(eachProduct => {\n    return (\n      <Grid key={`grid-${eachProduct.id}`} item xs={3}>\n        <Product\n          key={eachProduct.id}\n          productInfo={eachProduct}\n          onClickHandler={() => {\n            addToCart(eachProduct);\n          }}\n        />\n      </Grid>\n    );\n  });\n\n  return (\n    <Grid className={classes.container} container spacing={3}>\n      {productsList}\n    </Grid>\n  );\n};\n\nDashboard.propTypes = {\n  addToCart: PropTypes.func,\n  products: PropTypes.array,\n  cartItems: PropTypes.array,\n  setProducts: PropTypes.func\n};\n\nconst mapStateToProps = ({ productReducer, cartReducer }) => {\n  const { products } = productReducer,\n    { cartItems } = cartReducer;\n\n  return {\n    products,\n    cartItems\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setProducts: productsList => dispatch(setProducts(productsList)),\n  addToCart: cartProduct => dispatch(addToCart(cartProduct))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(memo(Dashboard));\n"]},"metadata":{},"sourceType":"module"}